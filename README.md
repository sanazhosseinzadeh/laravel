# laravel
ุณุงุฎุชู ฺฉ ุฑูุช (ูุณุฑ)
ุชู ูุฑูโูุฑฺฉ ูุงุฑุงูู ุฑูุชโูุง ุฑู ุชู ูุณุฑ routes ู ูุงูโูุง web.php ู api.php ูุดุฎุต ูโฺฉูู. ุฑูุชโูุง ฺฉู ุชู ูุงู web.php ูุดุฎุต ูุดู ุจุทูุฑ ุฎูุฏฺฉุงุฑ ุฑู ุงูููุง ูุฏูโูุฑูุง ูุซู CSRF ู Session ุงุนูุงู ูุดู. ุฑูุชโูุง ฺฉู ุชู ูุงู api.php ูุดุฎุต ูุดู ุงู ูุฏูโูุฑูุง ุฑู ูุฏุงุฑู. ฺูู ุงู ูุงู ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ุฑูุชโูุง api ูุง ุจุฑูุงูู ูุณุช ู ูุง ุชู ฺูู ุฏุฑุฎูุงุณุชโูุง (ุฏุฑุฎูุงุณุชโูุง Stateless) ูุงุฒ ุจู CSRF ู ุณุดู ูุฏุงุฑู.

ฺฉุฏ ุฒุฑ ุณุงุฏูโุชุฑู ุญุงูุช ฺฉ ุฑูุช ูุณุช:

Route::get('/home', function () {
    return 'Hello World';
});
ุงฺฏู ฺฉุฏ ุจุงูุง ุฑู ุชู ูุงู web.php ูุฑุงุฑ ุจุฏู ู ุชู ูุฑูุฑฺฏุฑ ูุณุฑ /homeexample.com ุฑู ุจุงุฒ ฺฉููุ ูุชู Hello World ุฑู ุฎูุงูู ุฏุฏ. ู ุงฺฏู ุชู ูุงู api.php ูุฑุงุฑ ุจุฏูุ ุจุงุฏ ูุณุฑ /api/homeexample.com ุฑู ุจุงุฒ ฺฉูู.

ููููุทูุฑ ฺฉู ูโุจูู ฺฉูุงุณ Route ฺฉ ูุชุฏ ุฏุงุฑู ุจู ุงุณู get ฺฉู ููุน ุฑูุช ูุง ุฑู ูุดุฎุต ูโฺฉูู. ุนู ุงฺฏู ุฏุฑุฎูุงุณุช ุจุตูุฑุช GET ู ุจู ูุณุฑ /home ุงููุฏุ Action ุฑู ุงุฌุฑุง ฺฉู. Action ฺูุ ุจู ูพุงุฑุงูุชุฑ ุฏูู ูุชุฏ get ูโฺฏู Action. ฺุฒ ฺฉู ุฑูุชุฑ ุจุนุฏ ุงุฒ ูพุฏุง ฺฉุฑุฏู ุงู ุฑูุช ุงุฌุฑุง ูโฺฉูู. ฺฉู ูโุชููู ฺฉ ฺฉููฺุฑ ุจุงุดู ู ุง ุขุฏุฑุณ ฺฉ ฺฉูุชุฑูุฑ:

Route::get('/home', 'HomeController@index');
ุจุฑุง ุจูู ุฏุฑุฎูุงุณุชโูุง ูุซู POST ูู ูุชุฏูุง ูุฌูุฏ ุฏุงุฑู:

Route::get($uri, $callback);
Route::post($uri, $callback);
Route::put($uri, $callback);
Route::patch($uri, $callback);
Route::delete($uri, $callback);
Route::options($uri, $callback);
ุงุฏุชูู ุจุงุดู ุจุฑุง ุฏุฑุฎูุงุณุชโูุง ุจู ุฑูุชโูุง ฺฉู ุชู ูุงู web.php ุงุฒ ูุชุฏ POST, PUT ู DELETE ุงุณุชูุงุฏู ูโฺฉููุ ุชูฺฉู CSRF ุฑู ุจูุฑุณุชู:

<form method="POST" action="/users">
    @csrf
    ...
</form>
ุงฺฏู ูุชุฏ ฺฉ ุฑูุช delete ุจุงุดูุ ุจุงุฏ ุจุฏููู ฺฉู ูุฑูโูุง HTML ุงุฒ ูุชุฏูุง PUT, PATCH ุง DELETE ูพุดุชุจุงู ููโฺฉูู. ุจุฑุง ุญู ุงู ูุดฺฉู ุชู ูุฑู ุงุฒ ูุชุฏ POST ุงุณุชูุงุฏู ูโฺฉูู ุจู ุงุถุงูู ฺฉ ููุฏ ุจู ุงุณู _method ฺฉู ุจุตูุฑุช ุฒุฑ ุชุนุฑู ูุดู:

<form action="/posts/1/delete" method="POST">
    <input type="hidden" name="_method" value="DELETE">
    <!-- or in blade files -->
    @method('DELETE')

    @csrf
</form>
 
ฺฉ ุฑูุช ุจุง ฺูุฏ ูุชุฏ
ุงฺฏู ฺฉ ุฑูุช ุฏุงุดุชู ุจุงุดู ฺฉู ูโุฎูุงู ุจุฑุง ฺูุฏ ุฏุฑุฎูุงุณุช ูุซู GET ู POST ูุงุจู ุฏุณุชุฑุณ ุจุงุดู ูโุชููู ุงุฒ ูุชุฏ match ูุซู ุฒุฑ ุงุณุชูุงุฏู ฺฉูู:

Route::match(['get', 'post'], '/', function () {
    //
});
ู ุงฺฏู ููุน ุฏุฑุฎูุงุณุช ุจุฑุงููู ููู ูุณุช ุงุฒ any ุงุณุชูุงุฏู ูโฺฉูู:

Route::any('/', function () {
    //
});
 

ุฑูุชโูุง ฺฉู Redirect ูโฺฉูู
ุงฺฏู ูโุฎูุงู ุขุฏุฑุณ (URI) ุฏุฑุฎูุงุณุช ุดุฏู ุฑู ุจู ฺฉ ุขุฏุฑุณ ุฏฺฏู ูุฏุงุช ฺฉูู ุงุฒ ูุชุฏ redirect ุงุณุชูุงุฏู ูโฺฉูู:

Route::redirect('/from', '/to');
ุงู ูุฏุงุช ุจุตูุฑุช ูพุดูุฑุถ ุจุง ฺฉุฏ HTTP 302 ุงูุฌุงู ูโฺฏุฑู. ุงฺฏู ฺฉุฏ ุฏฺฏูโุง ูุฏ ูุธุฑููู ูุณุช ุชู ูพุงุฑุงูุชุฑ ุณูู ุดูุงุฑู ฺฉุฏ ุฑู ูุดุฎุต ูโฺฉูู:

Route::redirect('/from', '/to', 301);
ุจุง ฺฉุฏูุง ณฐฑ ู ณฐฒ ุชู ุงู ูพุณุช ุขุดูุง ุจุดู. ููููุทูุฑ ฺฉู ูโุฏููู ูุฏุงุช ุจุง ฺฉุฏ ณฐฑ ฺฉ ูุฏุงุช ุฏุงุฆู ูุณุช. ุงฺฏู ฺฉ ูุฏุงุช ุฏุงุฆู ุฏุงุฑู ูโุชููู ุจุฌุง ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ ุจุงูุงุ ุงุฒ ฺฉุฏ ุฒุฑ ุงุณุชูุงุฏู ฺฉูู:

Route::permanentRedirect('/from', '/to');
 

ููุท ููุงุด ฺฉ View
ุงฺฏู ฺฉ ุขุฏุฑุณ ูฺ ฺฉุงุฑ ุบุฑ ุงุฒ ููุงุด ฺฉ โView ูุฏุงุฑูุ ูโุชููู ุงุฒ ูุชุฏ view ุงุณุชูุงุฏู ฺฉูู:

Route::view('/about', 'pages.about');
ฺฉู ฺฉุฏ ุจุงูุง ุฎูุงุตู ุดุฏูโ ฺฉุฏ ุฒุฑ ูุณุช:

Route::get('/about', function() {
    return view('pages.about');
});
ูโุชููู ุจุง ูพุงุฑุงูุชุฑ ุณูู ูุชุฏ viewุ ุจู ูู ฺฉู ูุฑุงุฎูู ูุดู ุฏุชุง ูู ูพุงุณ ุจุฏู:

Route::view('/about', 'pages.about', [
    'staff' => 'You'
]);
 

ุฑูุชโูุง ุจุง ูพุงุฑุงูุชุฑ
ุชุง ุงูุงู ุฑูุชโูุง ูุง ุงุณุชุงุชฺฉ ุจูุฏู. ุนู ฺฉ ูุณุฑ ุซุงุจุช ู ุตุฑุญ ุฑู ุชุนุฑู ูโฺฉุฑุฏู. ุฑูุชโูุง ุฒุฑ ุฑู ุฏุฑ ูุธุฑ ุจฺฏุฑู:

Route::view('/pages/about', 'pages.about');
Route::view('/pages/team', 'pages.team');
Route::view('/pages/contact', 'pages.contact');
Route::view('/pages/faq', 'pages.faq');
Route::view('/pages/rules', 'pages.rules');
Route::view('/pages/privacy', 'pages.privacy');
Route::view('/pages/blahblahblah', 'pages.blahblahblah');
ูููโ ุฑูุชโูุง ุจุงูุง ุงุณุชุงุชฺฉ ูุณุชู ู ูุณุฑูุง ุจุทูุฑ ุตุฑุญ ูุดุฎุต ุดุฏู. ฺฉ ุฑุงู ุจุฑุง ูุฑุชุจ ฺฉุฑุฏู ู ุฎูุงุตูโุชุฑ ฺฉุฑุฏู ฺฉุฏ ุจุงูุง ุงูู ฺฉู ุฑูุชโูุงููู ุฑู ุจุง ูพุงุฑุงูุชุฑ ุชุนุฑู ฺฉุฑุฏูุ ุฏุงูุงูฺฉ ฺฉูู. ุฒูุงู ูพุงุฑุงูุชุฑ ุชุนุฑู ูโฺฉูู ฺฉู ุจุฎูุงู ฺฉ ูุณูุช ุงุฒ URL ูุชุบุฑ ุจุงุดู ู ุงูู ุฑู ุชู ฺฉุฏ ุฏุงุดุชู ุจุงุดู. ุชู ฺฉ ุฑูุช ูพุงุฑุงูุชุฑูุง ุฑู ุชู {  } ุชุนุฑู ูโฺฉูู. ุจู ุดฺฉู ุฒุฑ:

Route::get('pages/{page}', function($page) {
    $view = "pages.$page";
    
    return View::exists($view) ? view($view) : abort(404);
});
ุจู ูพุงุฑุงูุชุฑ {page} ุฏูุช ฺฉูุฏ. ุงู ููุฏุงุฑ ุฏุงูุงูฺฉ ูุณุช ู ุชูุณุท ุฑูุชุฑ ุงุฒ URL ุฎููุฏู ู ุจู ุงูู ฺฉููฺุฑ ูพุงุณ ุฏุงุฏู ูุดู. ูพุณ ููุฏุงุฑุด ูุฑ ฺุฒ ูโุชููู ุจุงุดู. ุงูุทูุฑ ููุท ู ููุท ฺฉ ุฑูุช ุณุงุฎุชู.

 
ฺฉ ุฑูุช ุจุง ฺูุฏ ูพุงุฑุงูุชุฑ
ฺฉ ุฑูุช ูโุชููู ฺูุฏ ูพุงุฑุงูุชุฑ ุฏุงุดุชู ุจุงุดู:

Route::get('users/{userId}/posts/{postId}', function ($userId, $postId) {
    $user = User::findOrFail($userId);
    $posts = Post::findOrFail($postId);
});
ูพุงุฑุงูุชุฑโูุง ุจู ุชุฑุชุจ ุจู ฺฉููฺุฑ ูพุงุณ ุฏุงุฏู ูุดู.

 

ูพุงุฑุงูุชุฑูุง ุงุฎุชุงุฑ
URL ูุง ุฒุฑ ุฑู ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ:

// http://www.example.com/posts/1010/how-to-do-that
// http://www.example.com/posts/1010
ูโุฎูุงู ฺฉ ุฑูุช ุฏุงุดุชู ุจุงุดู ฺฉู ููุช ูุณูุช ุขุฎุฑ ุงู URL ูู ูุฌูุฏ ูุฏุงุดุช ูู ฺฉุงุฑ ฺฉูู. ูุซู URL ุฏูู. ุงูุฌุง ุจุฌุง ุงูฺฉู ุฏู ุชุง ุฑูุช ุจุณุงุฒูุ ฺฉุงูู ฺฉ ุฑูุช ุจุณุงุฒู ู ุจุฑุง ูุณูุช ุขุฎุฑ ุงุฒ ูพุงุฑุงูุชุฑ ุงุฎุชุงุฑ ุงุณุชูุงุฏู ฺฉูู. ูพุงุฑุงูุชุฑ ุงุฎุชุงุฑ ุจุง ูุฑุงุฑ ุฏุงุฏู ุนูุงูุช ุณูุงู (?) ุจุนุฏ ุงุฒ ุงุณู ูพุงุฑุงูุชุฑ ุณุงุฎุชู ูุดู:

Route::get('/posts/{postId}/{slug?}', function($postId, $slug = null) {

});
ุชู ุฑูุช ุจุงูุง ูพุงุฑุงูุชุฑ slug ฺฉ ูพุงุฑุงูุชุฑ ุงุฎุชุงุฑ ูุณุช ฺฉู ุจูุฏ ู ูุจูุฏุด ูุฑู ููโฺฉูู. ุงูุจุชู ุจู $slug ุชู ูพุงุฑุงูุชุฑูุง ฺฉููฺุฑ ุฏูุช ฺฉูู ฺฉู ููุฏุงุฑ ูพุดูุฑุถ ุจุงุฏ ุฏุงุฏู ุจุดู ุชุง ููุช ุงู ูพุงุฑุงูุชุฑ ุญุถูุฑ ูุฏุงุดุช ุจู ุฎุทุง ุจุฑูุฎูุฑู.

 

ูุญุฏูุฏุช ฺฏุฐุงุฑ ูพุงุฑุงูุชุฑูุง ุจุง RegEx
ุจุฑุง ุงูฺฉู ูุฑูุช ูพุงุฑุงูุชุฑ ฺฉู ูพุงุณ ุฏุงุฏู ูุดู ุฑู ฺฉูุชุฑู ฺฉูู ูโุชููู ุงุฒ ูุชุฏ where ุงุณุชูุงุฏู ฺฉูู ฺฉู ูพุงุฑุงูุชุฑ ุงูู ุงูู ุงุณู ูพุงุฑุงูุชุฑ ุฑูุช ู ูพุงุฑุงูุชุฑ ุฏูู RegEx ูุณุช ฺฉู ูุฑุงุฑู ูุฑูุช ุงู ูพุงุฑุงูุชุฑ ุฑู ูุดุฎุต ฺฉูู:

Route::get('user/{name}', function ($name) {
    //
})->where('name', '[A-Za-z]+');

Route::get('user/{id}', function ($id) {
    //
})->where('id', '[0-9]+');

Route::get('user/{id}/{name}', function ($id, $name) {
    //
})->where(['id' => '[0-9]+', 'name' => '[a-z]+']);
ุงฺฏู ุฑูุช ูุง ฺูุฏ ูพุงุฑุงูุชุฑ ุฏุงุฑู ูโุชููู ูุซู ุขุชู ุขุฎุฑ ูุซุงู ุจุงูุง ุจู where ฺฉ ุขุฑุงู ูพุงุณ ุจุฏู. ุฑูุชโูุง ุจุงูุง ุฒูุงู ุงุฌุฑุง ูุดู ฺฉู ูพุงุฑุงูุชุฑ URI ุจุง RegEx ููโุฎูุงู ุฏุงุดุชู ุจุงุดู. ุฏุฑ ุบุฑ ุงู ุตูุฑุช ุฑูุชุฑ ูุฑู ุณุฑุงุบ ุฑูุชโูุง ุจุนุฏ.

 

ูุญุฏูุฏุชโฺฏุฐุงุฑ ุณุฑุงุณุฑ
ุงฺฏู ูโุฎูุงู ูููโ ุฑูุชโูุง ฺฉู ฺฉ ูพุงุฑุงูุชุฑ ูุซู id ุฏุงุฑู ููุท ุจุตูุฑุช ุนุฏุฏ ุจุงุดูุ ุจุฌุง ุงูฺฉู ุชู ูุฑ ุฑูุช ฺฉ where ุชุนุฑู ฺฉููุ ูโุชููู ุงู ูุญุฏูุฏุช ุฑู ุจุตูุฑุช ุณุฑุงุณุฑ ุชุนุฑู ู ุจุฑุง ูููโ ุฑูุชโูุง ฺฉู ูพุงุฑุงูุชุฑ id ุฏุงุฑู ุงุนูุงู ฺฉูู. ุงู ูุญุฏูุฏุช ุฑู ุชู RouteServiceProvider ู ูุชุฏ boot ุชุนุฑู ูโฺฉูู:

public function boot()
{
    parent::boot();

    Route::pattern('id', '[0-9]+');
    Route::pattern('username', '[a-z0-9]+');
}
ุจุนุฏ ุงุฒ ุงู ูููโ ุฑูุชโูุง ฺฉู ูพุงุฑุงูุชุฑ ุจู ุงุณู id ุง username ุฏุงุฑู ุงู ูุญุฏูุฏุช ุฑู ุงูููุง ุงุนูุงู ูุดู:

Route::get('post/{id}', '...'); // only numeric id

Route::get('user/{id}', '...');  // only numeric id
Route::get('user/{username}', '...');  // only alphabetical usernames
ูุฑุถ ฺฉูู URL ูุง ุฏุงุฑู ุจุตูุฑุช ุฒุฑ ฺฉู ุชุนุฏุงุฏ ูุงูุดุฎุต ุงุณูุด / ุฏุงุฑู:

// http://example.com/download/path/to/file/foo/bar
// http://example.com/download/path/to/file/foo/bar/baz
// http://example.com/download/path/to/file/blah
// http://example.com/download/path/to/file/foo/bar/baz/bak/ban/bag
ุจุทูุฑ ูพุดูุฑุถ ุฑูุชุฑ ูุณูุชโูุง ฺฉ ุฑูุช ู URL ุฑู ุจุง ุงุณูุด ุฌุฏุง ู ูุณูุชโุจูุฏ ูโฺฉูู. ูพุณ ุจุฑุง ฺูู ุขุฏุฑุณโูุง ุจุงุฏ ุชุนุฏุงุฏ ุงุณูุดโูุง ูุง ูุดุฎุต ุจุงุดู. ุงูุง ุงฺฏู ฺฉ ุขุฏุฑุณ ูุฌูุฏ ุฏุงุดุชู ุจุงุดู ฺฉู ุชุนุฏุงุฏ ุงุณูุด ุงูู ูุดุฎุต ูุณุช ู ุง ูุณูุช ุงุฒ ุงูู ุดุงูู ฺฉุงุฑฺฉุชุฑูุง ูุซู ุงุณูุด ูุณุช ฺฉู ูุซูุง ฺฉุงุฑุจุฑ ุงูู ุฑู ูุงุฑุฏ ฺฉุฑุฏูุ ุจุงุฏ ฺฺฉุงุฑ ฺฉููุ ุจุงุฏ ุจู ุฑูุชุฑ ุจฺฏู ฺฉู ุงุฒ ฺฉ ูุณูุช ุจู ุจุนุฏุ ุงุณูุดโูุง ุฑู ูุงุฏุฏู ุจฺฏุฑ ู ุง ุจุง ุงุณูุดโูุง ูุซู ุจูู ฺฉุงุฑฺฉุชุฑูุง ุฑูุชุงุฑ ฺฉู. ุงู ฺฉุงุฑ ุฑู ุจุง ููุดุชู ฺฉ where ุจุง ฺฉ ูุฑูุช ุฎุงุต ูุซู ุฒุฑ ุงูุฌุงู ูโุฏู:

Route::get('download/{file}', function ($file) {
    return $file;
})->where('file', '.*');
ุงูุงู ุฑูุช ุจุงูุง ุจุฑุง ูููโ ุขุฏุฑุณโูุง ฺฉู ุจุง download ุดุฑูุน ุจุดู ู ุดุงูู ุงุณูุด ูู ุจุงุดู ูุนุชุจุฑ ูุณุช. ุฏูุช ฺฉูู ุจุง ูุฌูุฏ ฺูู ูุญุฏูุฏุชุ ูพุงุฑุงูุชุฑ ูุซู {file} ุจุงุฏ ุชู ุขุฎุฑู ูุณูุช ุชุนุฑู ุดุฏู ุจุงุดู.

 

ูุงูโฺฏุฐุงุฑ ุฑูุชโูุง
ูโุชููู ุจุง ูุชุฏ name ฺฉ ุฑูุช ุฑู ูุงูโฺฏุฐุงุฑ ฺฉูู:

Route::get('posts', '...')->name('posts');
ู ุจู ุตูุฑุช ุฒุฑ ุจุง ุชุงุจุน route() ุชู ุจุฑูุงูู ุจูุด ุฏุณุชุฑุณ ูพุฏุง ูโฺฉูู:

public function update()
{
    $url = route('posts');
}
ูุงูโฺฏุฐุงุฑ ุฑูุชโูุง ุจุฑุง ุฒูุงู ุฎูุจู ฺฉู ฺฉ ุขุฏุฑุณ ุฏุงุฑู ฺฉู ุฎู ุทููุงูู ู ููุดุชู ู ุจู ุงุฏ ุขูุฑุฏู ุงูู ฺฉุงุฑ ุณุฎุช ุจุงุดู ู ุง ููฺูู ุขุฏุฑุณ ฺฉู ุจุนุฏุง ููฺฉูู ุนูุถ ุจุดู. ูุซูุง ุชู ุฑูุช ุจุงูุง ููฺฉูู ูุณุฑ posts ุฑู ุจุนุฏุง ุจุฎูุงู ุจู all-posts ุชุบุฑ ุจุฏู.

 

ุฑูุช ูุงูโฺฏุฐุงุฑ ุดุฏู ุฏุงุฑุง ูพุงุฑุงูุชุฑ
ุงฺฏู ุจุฎูุงู ุงุฒ ุฑูุช ูุงูโฺฏุฐุงุฑ ุดุฏูโุง ุงุณุชูุงุฏู ฺฉูู ฺฉู ุฏุงุฑุง ูพุงุฑุงูุชุฑ ูุณุชุ ุขุฑฺฏููุงู ุฏูู ุชุงุจุน route ฺฉ ุขุฑุงู ูโฺฏุฑู ฺฉู ุจุฑุง ูพุงุณ ุฏุงุฏู ูพุงุฑุงูุชุฑูุง ุจู ุงู ุฑูุช ูุณุช:

Route::get('user/{id}', '...')->name('user');

// ...

$url = route('user', ['id' => 1]);
ุงฺฏู ุชู ูุณุช ูพุงุฑุงูุชุฑูุง ูพุงุณ ุฏุงุฏู ุดุฏู ุจู ุชุงุจุน routeุ ููุฏุงุฑ ูพุงุณ ุฏุงุฏู ุจุดู ฺฉู ุชู ูพุงุฑุงูุชุฑูุง ุฑูุช ุชุนุฑู ูุดุฏูุ ุงู ููุฏุงุฑ ุจู ุนููุงู Query String ุจู ุขุฎุฑ URL ฺุณุจุฏู ูุดู:

Route::get('user/{id}', '...')->name('user');

// ...

$url = route('user', [
    'id' => 1,
    'posts' => 'yes',
    'info' => 'no',
]);

// example.com/user/1?posts=yes&info=no
 

ฺฏุฑููโุจูุฏ ุฑูุชโูุง
ุฎู ููุชุง ฺฉ ุณุฑ ูฺฺฏโูุง ุชู ุฑูุชโูุง ูุฌูุฏ ุฏุงุฑู ฺฉู ุจุง ูู ูุดุชุฑฺฉ ูุณุชู. ูุซูุง ูุณูุช ุงุฒ URL ุฎู ุงุฒ ุฑูุชโูุง ุจุง ูู ุจุฑุงุจุฑ ูุณุชู ู ุง ูุฏูโูุฑ ูุง ฺฉุณุงู ุฏุงุฑู. ูุซู ุฑูุชโูุง ุฒุฑ:

Route::get('/admin/users', '...')->middleware('auth');
Route::get('/admin/posts', '...')->middleware('auth');
Route::get('/admin/comments', '...')->middleware('auth');
ููููุทูุฑ ฺฉู ูโุจูู ูุณุฑ /admin/ ู ูุฏูโูุฑ auth ุชู ูููโ ุฑูุชโูุง ุชฺฉุฑุงุฑ ุดุฏู. ุฎุจ ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุชฺฉุฑุงุฑุ ูุงุฑุงูู ุงูฺฉุงู ฺฏุฑููโุจูุฏ ุฑูุชโูุง ูุดุงุจู ุฑู ุฏุฑ ุงุฎุชุงุฑ ูุง ฺฏุฐุงุดุชู. ุงู ฺฉุงุฑ ุจุง ูุชุฏ group ุงูุฌุงู ูุดู. ูพุงุฑุงูุชุฑ ุงูู ุงู ูุชุฏ ุจุฑุง ูุดุฎุต ฺฉุฑุฏู ูฺฺฏโูุง ูุดุชุฑฺฉ ุฑูุชโูุง ูุณุช. ูพุงุฑุงูุชุฑ ุฏูู ฺฉ ฺฉููฺุฑ ูุณุช ฺฉู ุชู ุงูู ุฑูุชโูุง ุฑู ูุดุฎุต ูโฺฉูู:

Route::group(['prefix' => 'admin', 'middleware' => 'auth'], function() {
    Route::get('/users', '...');
    Route::get('/posts', '...');
    Route::get('/comments', '...');
});
ุจู ุขุฑุงู ุขุฑฺฏููุงู ุงูู ุฏูุช ฺฉูู. ุชู ุงู ุขุฑุงู ูุง ุจุฑุง ูุณุฑูุง ฺฉู ุดุฑูุน ูุดุชุฑฺฉ ุฏุงุฑู ุงุฒ ฺฉูุฏ prefix ุงุณุชูุงุฏู ฺฉุฑุฏู. ุงูุทูุฑ admin ฺฉ ูพุดููุฏ ุจุฑุง ูููโ ุฑูุชโูุง ุงู ฺฏุฑูู ุฎูุงูุฏ ุจูุฏ. ููฺูู ุจุฑุง ูุฏูโูุฑูุง ุงุฒ ฺฉูุฏ middleware ุงุณุชูุงุฏู ฺฉุฑุฏู. ฺฉู ุงู ูุฏูโูุฑ ุฑู ูููโ ุงู ุฑูุชโูุง ุงุนูุงู ูุดู.

 

Namespace ูุดุชุฑฺฉ ฺฉูุชุฑูุฑูุง
ุฏุฑุณุช ูุซู prefix ููฺฉูู ฺฉูุชุฑูุฑูุง ูุง ูู Namespaceูุง ุจุง ุดุฑูุน ูุดุงุจู ุฏุงุดุชู ุจุงุดู:

Route::get('/admin/users', 'Api\v1\Admin\UsersController');
Route::get('/admin/posts', 'Api\v1\Admin\PostsController');
Route::get('/admin/comments', 'Api\v1\Admin\CommentsController');
ููููุทูุฑ ฺฉู ูโุจูู Api\v1\Admin\ ุจุฑุง ูููโ ฺฉูุชุฑูุฑูุง ุฑูุชโูุง ุจุงูุง ุชฺฉุฑุงุฑ ุดุฏู. ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุงู ุชฺฉุฑุงุฑุ ุงุฒ ฺฉูุฏ namespace ุชู ุขุฑฺฏููุงู ุงูู ูุชุฏ group ุงุณุชูุงุฏู ูโฺฉูู:

Route::group([
    'namespace' => 'Api\v1\Admin'
], function() {
    Route::get('/users', 'UsersController');
    Route::get('/posts', 'PostsController');
    Route::get('/comments', 'CommentsController');
});
 

ุฑูุชโูุง ฺฉ ุฒุฑ ุฏุงููู
ุฑูุชโูุง ฺฉ subdomain ุฑู ูุดู ุจุง ฺฉูุฏ domain ฺฏุฑููโุจูุฏ ฺฉุฑุฏ:

Route::group([
    'domain' => 'sub.example.com'
], function() {
    Route::get('/users', '...'); // sub.example.com/users
});
ุฏูุช ฺฉูู ฺฉู ุฑูุชโูุง ฺฉ ุฒุฑ ุฏุงููู ุจุงุฏ ูุจู ุงุฒ ุฑูุชโูุง ุฏุงููู ุงุตู ุซุจุช ุดุฏู ุจุงุดู. ุฏุฑ ุบุฑ ุงู ุตูุฑุช ุฑูุชโูุง ูุดุงุจู ฺฉู ุชู ุฏุงููู ุงุตู ูุฌูุฏ ุฏุงุฑู ุฑูููุดุช (overwrite) ู ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูุดู.

 
ูพุดููุฏ ุจุฑุง ุงุณู ุฑูุชโูุง
ูุฑุถ ฺฉูู ุฑูุชโูุง ุฏุงุฑู ฺฉู ุดุฑูุน name ูุดุงุจู ุฏุงุฑู. ูุซู ุฑูุชโูุง ุฒุฑ ฺฉู ุงุณู ุงูููุง ุจุง admin. ุดุฑูุน ูุดู:

Route::get('/users', 'UsersController')->name('admin.users');
Route::get('/posts', 'PostsController')->name('admin.posts');
Route::get('/comments', 'CommentsController')->name('admin.comments');
ูโุชููู ุชู ฺฉ ฺฏุฑููุ ุจุฑุง ุฑูุชโูุง ฺฉู ุดุฑูุน name ูุดุงุจู ุฏุงุฑูุ ุงุฒ ฺฉูุฏ name ุงุณุชูุงุฏู ฺฉูู ุชุง ฺฉุฏูุง ุจุงุฒ ูู ุฎูุงุตูโุชุฑ ุจุดู:

Route::group([
    'name' => 'admin.'
], function() {
    Route::get('/users', 'UsersController')->name('users');
    Route::get('/posts', 'PostsController')->name('posts');
    Route::get('/comments', 'CommentsController')->name('comments');
});
ุจุฌุง ุงูฺฉู ูฺฺฏโูุง ูุดุชุฑฺฉ ุฑู ุชู ุขุฑุงู ุชุนุฑู ฺฉููุ ูโุชููู ุงุฒ ูุชุฏูุง ุงุฎุชุตุงุต ุจุฑุง ูุฑ ฺฉุฏูู ุงุฒ ุงู ูฺฺฏโูุง ุงุณุชูุงุฏู ฺฉูู:

Route::name('admin.')
->prefix('admin')
->domain('...')
->namespace('Api\v1\Admin')
->group(function() {
    Route::get('/users', 'UsersController')->name('users');
    Route::get('/posts', 'PostsController')->name('posts');
    Route::get('/comments', 'CommentsController')->name('comments');
});
 

ฺฏุฑููโูุง ุชู ุฏุฑ ุชู
ฺฏุฑููโูุง ูโุชููู ุชู ูู ุฏฺฏู ูู ุชุนุฑู ุจุดู. ุงูุทูุฑ ฺฏุฑูู ุฏุงุฎู ูฺฺฏโูุง ฺฏุฑููโูุง ูุงูุฏุด ุฑู ุจู ุงุฑุซ ูโุจุฑู:

Route::group(['middleware' => 'auth'], function() {
    Route::get('/posts', '...');

    Route::group(['middleware' => 'is_admin'], function() {
        Route::get('/users', '...');
    });
});
 

Route Model Binding ฺูุ
ฺฉุฏ ุฒุฑ ุฑู ุฏุฑ ูุธุฑ ุจฺฏุฑู:

Route::get('user/{id}', function($userId) {
    $user = User::findOrFail($userId);
});
ุฎู ููุชโูุง ูพุงุฑุงูุชุฑ ุฑูุชโูุงุ ฺฉ ุดูุงุณู ุฑฺฉูุฑุฏ ุชู ุฏุชุงุจุณ ูุณุช. ูุซู id ุชู ฺฉุฏ ุจุงูุง. ฺฉู ุฏุฑ ุญุงูุช ุนุงุฏ ูุง ุงูู ูพุงุฑุงูุชุฑ ุฑู ูโฺฏุฑู ู ุจูุงูุงุตูู ุจุง ฺฉ ฺฉูุฆุฑ ุงูู ุฑฺฉูุฑุฏ ุฑู ูุฑุงุฎูู ูโฺฉูู. ูุงุฑุงูู ฺฉ ูฺฺฏ ุฑู ุฏุฑ ุงุฎุชุงุฑ ูุง ฺฏุฐุงุดุชู ุชุง "ุนููุงุช ุฎููุฏู ูพุงุฑุงูุชุฑ ู ูุฑุงุฎูู ุฑฺฉูุฑุฏ ุงุฒ ุฏุชุงุจุณ" ุจุตูุฑุช ุฎูุฏฺฉุงุฑ ุงูุฌุงู ุจฺฏุฑู. ุจู ุงู ูฺฺฏ ูฺฏู Route Model Binding ฺฉู ููุดุชู ุงูู ุจุตูุฑุช ุฒุฑ ูุณุช:

Route::get('user/{user}', function(App\User $user) {
    echo $user->id;
    echo $user->name;
});
ุจุฑุง ุงูฺฉุงุฑ ูุง ุงุฒ ุชฺฉูฺฉ type-hint ุงุณุชูุงุฏู ูโฺฉูู. type-hint ุฏุฑ ุญุงูุช ฺฉู ุนู ูุดุฎุต ฺฉุฑุฏู ููุน ูุฑูุฏ ฺฉ ุชุงุจุน. ุชู ูุซุงู ุจุงูุง ุจุง ูุดุฎุต ฺฉุฑุฏู ูพุงุฑุงูุชุฑ $user ุงุฒ ููุน ูุฏู Userุ ูุงุฑุงูู ุจุตูุฑุช ุฎูุฏฺฉุงุฑ ฺฉ ุฏุฑุฎูุงุณุช ุจู ุฏุชุงุจุณ ูุฒููุ ุฑฺฉูุฑุฏ ุฑู ูพุฏุง ูโฺฉูู ู ุงุทูุงุนุงุช ุฑู ูโุฑุฒู ุชู ูุชุบุฑ $user. ุนู ฺฉ ุฏุฑุฎูุงุณุช ุฎูุฏฺฉุงุฑ ุชูุณุท ูุฑูโูุฑฺฉ ุจุตูุฑุช ุฒุฑ:

$userId = request()->route('user');

$user = User::findOrFail($userId);
ุงฺฏู ุฑฺฉูุฑุฏ ููุฑุฏ ูุธุฑ ูุง ุชู ุฏุชุงุจุณ ูพุฏุง ูุดู ดฐด ูโฺฏุฑู. ุฏูุช ฺฉูู ฺฉู ุงุณู ูพุงุฑุงูุชุฑ ุฑูุชุ ุจุง ูพุงุฑุงูุชุฑ ฺฉููฺุฑ ฺฉ ุจุงุดู. ุนู {user} ู $user ุง {id} ู $id

 

ูุดุฎุต ฺฉุฑุฏู ุณุชูู
ุจุฑุง Route Model Binding ูุงุฑุงูู ุจุทูุฑ ูพุดูุฑุถ ุงุฒ ุณุชูู id ุจุฑุง ุฌุณุชุฌู ุชู ุฏุชุงุจุณ ุงุณุชูุงุฏู ูโฺฉูู. ุงฺฏู ุณุชูู ุบุฑ ุงุฒ id ูุฏูุธุฑ ูุง ูุณุช ุงูู ุฑู ุจู ุงู ุตูุฑุช ุชู ูพุงุฑุงูุชุฑ ุฑูุช ุชุนุฑู ูโฺฉูู:

Route::get('user/{user:username}', function(App\User $user) {
    echo $user->id;
    echo $user->name;
});
ููฺูู ุงฺฏู ูุฏู ูุง ุณุชูู ุจู ุงุณู id ูุฏุงุฑู (ุณุชูู Primary Key ฺุฒ ุบุฑ ุงุฒ id ูุณุช) ุงูู ุฑู ุชู ูุฏู ูุดุฎุต ูโฺฉูู:

class User extends Model
{
    public function getRouteKeyName()
    {
        return 'username';
    }
}
ุงูุทูุฑ ุฏฺฏู ูุงุฒู ูุณุช ุชู ุชุนุฑู ุฑูุชุ ุณุชูู ุฑู ูุดุฎุต ฺฉูู ู ุจุตูุฑุช ุฎูุฏฺฉุงุฑ ุณุชูู username ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูุดู.

ุญุช ุจุงุฒ ูู ูุดู ฺฉูุฆุฑ ฺฉู ุจู ุฏุชุงุจุณ ุฒุฏู ูุดู ุฑู ุจุดุชุฑ ุดุฎุตโุณุงุฒ ฺฉุฑุฏ. ฺฉุงูู ุชู ูุฏู ููุฑุฏ ูุธุฑููู ูุชุฏ resolveRouteBinding ุฑู ุฑูููุดุช ฺฉูู:

public function resolveRouteBinding($value)
{
    return $this->where('username', $value)
        ->where('status', 1)
        ->firstOrFail();
}
 

Explicit Binding
ุงฺฏู ุจุฎูุงู ุจุง ุญุถูุฑ ุฏุงุดุชู ูพุงุฑุงูุชุฑ ูุซู {user} ููุดู Route Model Binding ุงูุฌุงู ุจุดู ฺฉุงูู ุงุฒ ฺฉุฏ ุฒุฑ ุชู RouteServiceProvider ู ุชู ูุชุฏ boot ุงุณุชูุงุฏู ฺฉูู:

public function boot()
{
    parent::boot();
    
    Route::model('user', \App\User::class);
}
ุจุง ุงู ฺฉุงุฑ ุฏฺฏู ูุงุฒู ูุณุช ุชู ูพุงุฑุงูุชุฑ ฺฉููฺุฑูุง ุง ฺฉูุชุฑูุฑูุง ุฎูุฏููู ุงุณู ฺฉูุงุณ ุฑู Type-hint ฺฉูู:

Route::get('/users/{user}', function ($user) {
    echo $user->email;
})
ูโุชููู ฺฉุงุฑ ฺฉู Explicit Binding ุงูุฌุงู ูุฏู ุฑู ูู ุดุฎุตโุณุงุฒ ฺฉูู. ุจุฑุง ฺฉ ูพุงุฑุงูุชุฑ ุจู ุงุณู user ุชู RouteServiceProvider ูโููุณู:

public function boot()
{
    parent::boot();

    Route::bind('user', function ($value) {
        return \App\User::where('username', $value)
            ->where('status', 1)
            ->firstOrFail();
    });
}
ุชู ุขุฑฺฏููุงู ุงูู ูุชุฏ bind ุงุณู ูพุงุฑุงูุชุฑ ุฑู ูโููุณู ู ุฏุงุฎู ุขุฑฺฏููุงู ุฏูู ฺฉู ฺฉ ฺฉููฺุฑ ูุณุช ูโุชููู ฺฉุงููุง ุงู ฺฉูุฆุฑ ุฑู ุดุฎุตโุณุงุฒ ฺฉูู.

ุงฺฏู ุจุง URI ูุนูุ ุฑูุชุฑ ูุชููู ุฑูุช ููุงุณุจ ุฑู ูพุฏุง ฺฉููุ ุจุตูุฑุช ุฎูุฏฺฉุงุฑ ุตูุญู ู ุฎุทุง ดฐด ุจู ฺฉุงุฑุจุฑ ูุดูู ุฏุงุฏู ูุดู. ุงฺฏู ุจุฎูุงู ู ุณุฑ ุนููุงุช ูุจู ุงุฒ ููุงุด ดฐด ุงูุฌุงู ุจุฏู ฺฉุงูู ุงุฒ ูุชุฏ fallback ุจู ุนููุงู ุขุฎุฑู ุขุชู ุชู ูุงู web.php ุงุณุชูุงุฏู ฺฉุฑุฏ:

Route::get('/home', '...');
Route::get('/posts', '...');
Route::get('/users', '...');

Route::fallback(function() {
    // do something
    
    abort(404);
});
ุฏูุช ฺฉูู ุจุฑุง ุฒูุงู ฺฉู ุฑูุชุฑ ฺฉ ุฑูุช ููุงุณุจ ุฑู ูพุฏุง ฺฉุฑุฏู ุจุงุดู ุงูุง ูุฑุญูู Route Model Binding ููููุชโุขูุฒ ูุจูุฏู ุจุงุดูุ ูุชุฏ fallback ุงุฌุฑุง ูุฎูุงูุฏ ุดุฏ.

ูุชุฏูุง ฺฉุงุฑุจุฑุฏ ๐
ฺูุฏ ุฑูุด ู ูุชุฏ ูพุฑฺฉุงุฑุจุฑุฏ ฺฉู ูุฑุงููู ุชู ุจุฑูุงูู ุงุณุชูุงุฏู ูุดู ุฑู ุงูุงู ุจุฑุฑุณ ูโฺฉูู.

ฺฏุฑูุชู ุฑูุช ูุนู ุชู ุจุฑูุงูู
ุจุฑุง ฺฏุฑูุชู ูฺฺฏโูุง ุฑูุช ูุนู ุชู ุจุฑูุงูู ูุซูุง ุชู ฺฉ ฺฉูุชุฑูุฑ ุงุฒ ฺฉุฏ ุฒุฑ ุงุณุชูุงุฏู ูโฺฉูู:

$route = request()->route();
// or
$route = Route::current();
 

ุจุฑุฑุณ ูุฌูุฏ ฺฉ ูพุงุฑุงูุชุฑ
ุงฺฏู ฺฉ ุขุฏุฑุณ ุฏุงุดุชู ุจุงุดู ุจู ุตูุฑุช example.com/users/1 ู ุจุฎูุงู ุจุฑุฑุณ ฺฉูู ุขุง ฺฉ ูพุงุฑุงูุชุฑ ุฎุงุต ุชู ุขุฏุฑุณ ูุฌูุฏ ุฏุงุฑู ุงุฒ ูุชุฏ hasParameter ุงุณุชูุงุฏู ูโฺฉูู:

Route::get('/users/{username?}/{postId?}', function (Request $request) {
    $route = $request->route();

    dump($route->hasParameter('username')); // true
    dump($route->hasParameter('postId')); // false
});
 

ฺฏุฑูุชู ููุฏุงุฑ ฺฉ ูพุงุฑุงูุชุฑ
ุจุฑุง ุงู ฺฉุงุฑ ุงุฒ ูุชุฏ parameter ุง ุฑูุด ฺฉู ุชู ุฎุท ด ูุณุช ุงุณุชูุงุฏู ูโฺฉูู:

Route::get('/users/{id}', function (Request $request) {
    echo $request->route()->parameter('id');
    // or
    echo $request->route()->id;
});
ฺฏุฑูุชู ุงุณู ุฑูุช
ูโุชููู ุงุฒ ฺฉ ุงุฒ ุฏู ุฑูุด ุฒุฑ ุงุณุชูุงุฏู ฺฉูู:

Route::get('/home', function (Request $request) {
    dump($request->route()->getName()); // home
})->name('home');

// or

$name = Route::currentRouteName();
 

ฺฏุฑูุชู ูุฏูโูุฑูุง ูุณุจุช ุฏุงุฏู ุดุฏู ุจู ุฑูุช
ุจุฑุง ุงู ฺฉุงุฑ ุงุฒ ูุชุฏ gatherMiddleware ุงุณุชูุงุฏู ูโฺฉูู:

Route::get('/home/', function (Request $request) {
    dump($request->route()->gatherMiddleware());
});
 

ุจุฑุฑุณ ูุฌูุฏ ฺฉ ุฑูุช ุจุง name ุฎุงุต
ุงุฒ ูุชุฏ has ูุซู ุฒุฑ ุงุณุชูุงุฏู ูโฺฉูู:

Route::get('/home', '...')->name('home');

dump(Route::has('home')); // true
